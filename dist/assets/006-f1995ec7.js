import{d as J,i,x as F,h as L,q as Y,c as _,e as C,j as y,v as N,a,J as U,F as $,m as S,t as b,l as z,k as v,b as O,w as j,T as q,o as m,L as A,M as G,C as K,N as R,p as H,f as P,_ as Q}from"./index-5c8d04d2.js";const W=k=>(H("data-v-9fe288b7"),k=k(),P(),k),X={class:"FirstBox"},Z={class:"InputNumber"},ee={class:"table",border:"1"},te=W(()=>a("thead",null,[a("tr",null,[a("th",{colspan:"5"},"day7"),a("th",{colspan:"5"},"day1"),a("th",{colspan:"5"},"day2"),a("th",{colspan:"5"},"day3"),a("th",{colspan:"5"},"day4"),a("th",{colspan:"5"},"day5"),a("th",{colspan:"5"},"day6")])],-1)),ae={key:0,class:"residue"},le={class:"todolist"},oe={class:"form"},se={class:"item"},ne=["onUpdate:modelValue"],ue=["onClick"],re=J({__name:"006",setup(k){const d=i(2023),u=i(4),o=i(0),h=i(0);F(()=>D(d.value));const c=F(()=>M(D(d.value),u.value)),p=i(!0);let f=i(""),s=L({name:"",time:new Date,todo:[]});const w=i();function B(){var l;(l=w.value)==null||l.forEach((e,t)=>{e.ondblclick=()=>{t-o.value<=c.value&&t>=o.value&&(h.value=t-o.value,p.value=!p.value)}})}function D(l){return l%4==0&&l%100!==0||l%400===0}const I=()=>{const e=new Date(`${d.value}-${u.value}-1`).getDay();if(o.value=e,localStorage.getItem(`${d.value}-${u.value}`)){let t=localStorage.getItem(`${d.value}-${u.value}`),{name:r,time:n,todo:g}=JSON.parse(t);s.name=r,s.time=n,s.todo=g}else{s.name=`${d.value}-${u.value}`,s.time=new Date,s.todo=[];for(let t=0;t<c.value;t++)s.todo.push([])}};function M(l,e){return e=parseInt(e),console.log(l,e),e===4||e===6||e===9||e===11?30:l&&e===2?29:!l&&e===2?28:31}const T=()=>{f.value?s.todo[h.value].push({title:f.value,choose:!1}):alert("请认真描述你的事件"),V(s)},E=(l,e)=>{e&&s.todo[h.value].splice(l,1),V(s)};function V(l){localStorage.setItem(l.name,JSON.stringify(l))}return Y(()=>{B(),I()}),(l,e)=>(m(),_("div",X,[C(" 年: "),y(a("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t),type:"text",name:"",id:""},null,512),[[N,d.value]]),a("div",Z,[C(" 月: "),a("button",{onClick:e[1]||(e[1]=t=>u.value++)},"+"),y(a("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>u.value=t),type:"number",name:"",id:""},null,512),[[N,u.value]]),a("button",{onClick:e[3]||(e[3]=t=>u.value--)},"-")]),a("button",{onClick:I}," 跳转"),y(a("table",ee,[te,a("tbody",null,[(m(),_($,null,S(6,(t,r)=>a("tr",null,[(m(),_($,null,S(7,(n,g)=>{var x;return a("td",{ref_for:!0,ref_key:"td",ref:w,class:A(t===1&&n<=o.value||n+r*7-o.value>v(c)?"td":""),colspan:"5"},[C(b(t===1&&g<o.value?"":n+r*7-o.value<=v(c)?n+r*7-o.value:"")+" ",1),t===1&&n<=o.value||n+r*7-o.value>v(c)?G("",!0):(m(),_("div",ae,b((x=v(s).todo[t===1&&g<o.value?NaN:n+r*7-o.value<=v(c)?n+r*7-o.value-1:NaN])==null?void 0:x.length),1))],2)}),64))])),64))])],512),[[U,p.value]]),y(a("section",le,[a("h1",null,b(d.value)+"-"+b(u.value)+"-"+b(h.value+1),1),a("div",oe,[y(a("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>z(f)?f.value=t:f=t),type:"text",name:"",id:"",placeholder:"规划您今天的行为"},null,512),[[N,v(f)]]),a("button",{onClick:e[5]||(e[5]=t=>p.value=!p.value)},"返回"),a("button",{onClick:e[6]||(e[6]=t=>T())},"添加")]),a("ul",null,[O(q,{name:"list",tag:"ul"},{default:j(()=>[(m(!0),_($,null,S(v(s).todo[h.value],(t,r)=>(m(),_("li",se,[a("p",{style:K({textDecoration:t.choose?"line-through":"none"})},b(t.title),5),y(a("input",{type:"checkbox","onUpdate:modelValue":n=>t.choose=n,name:"",id:""},null,8,ne),[[R,t.choose]]),a("button",{onClick:n=>E(r,t.choose)},"删除",8,ue)]))),256))]),_:1})])],512),[[U,!p.value]])]))}});const ie=Q(re,[["__scopeId","data-v-9fe288b7"]]);export{ie as default};
